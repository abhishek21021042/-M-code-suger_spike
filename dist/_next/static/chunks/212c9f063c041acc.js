(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89055,e=>{"use strict";var t=e.i(36768),a=e.i(17318),s=e.i(71885),l=e.i(81093),i=e.i(13869),r=e.i(3624),n=e.i(76966),c=e.i(11198),d=e.i(37970);function x(){let{xp:e,level:l,streak:r,logs:d,age:x,height:o,weight:p,user:h,unlockedBadgeIds:b}=(0,a.useOnboardingStore)(),[m,u]=(0,n.useState)(!1),[g,f]=(0,n.useState)(""),[j,w]=(0,n.useState)(""),[N,v]=(0,n.useState)(!1),[k,y]=(0,n.useState)(null),[_,S]=(0,n.useState)(!1),P=d.length,C=Math.floor(e/500)+1,A=e%500/500*100,T=async e=>{e.preventDefault(),v(!0),y(null);try{let{error:e}=m?await (0,c.signIn)(g,j):await (0,c.signUp)(g,j);if(e)throw e;S(!1),f(""),w("")}catch(e){y(e.message||"Auth failed")}finally{v(!1)}};return(0,t.jsxs)(s.default,{className:"relative overflow-hidden border-white/[0.08] bg-[#111]/80",children:[(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-40 h-20 bg-brand-teal/15 blur-[60px] pointer-events-none"}),(0,t.jsxs)("div",{className:"relative p-5 pb-4 flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative shrink-0",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-brand-teal/20 to-brand-coral/10 flex items-center justify-center text-3xl border border-white/10 shadow-[inset_0_1px_1px_rgba(255,255,255,0.1)]",children:"ðŸ‘¤"}),(0,t.jsxs)("div",{className:"absolute -bottom-1.5 -right-1.5 bg-brand-teal text-[#0a0a0a] text-[8px] font-black px-1.5 py-0.5 rounded-md uppercase shadow-md",children:["Lv.",C]})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h2",{className:"text-lg font-black text-white uppercase italic tracking-tight truncate leading-tight",children:h?.email?.split("@")[0]||"Metabolic Warrior"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,t.jsx)("span",{className:"material-icons text-[10px] text-brand-teal",children:"verified"}),(0,t.jsx)("p",{className:"text-[9px] font-black text-brand-teal/70 uppercase tracking-[0.15em]",children:"Vanguard"})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-1.5 bg-white/5 rounded-full overflow-hidden",children:(0,t.jsx)(i.motion.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-brand-teal to-brand-teal/60 rounded-full shadow-[0_0_8px_rgba(78,205,196,0.4)]"})}),(0,t.jsxs)("span",{className:"text-[8px] font-black text-white/25 uppercase",children:[e," XP"]})]})]})]}),(0,t.jsx)("div",{className:"mx-5 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),(0,t.jsx)("div",{className:"p-4 grid grid-cols-4 gap-2",children:[{icon:"local_fire_department",value:r,label:"Streak",color:"text-brand-coral"},{icon:"analytics",value:P,label:"Logs",color:"text-brand-teal"},{icon:"stars",value:b.length,label:"Badges",color:"text-brand-gold"},{icon:"bolt",value:`${e}`,label:"XP",color:"text-purple-400"}].map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 p-2 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[(0,t.jsx)("span",{className:`material-icons text-sm ${e.color}`,children:e.icon}),(0,t.jsx)("p",{className:"text-sm font-black text-white leading-none",children:e.value}),(0,t.jsx)("p",{className:"text-[7px] font-black text-white/20 uppercase tracking-wider",children:e.label})]},e.label))}),(0,t.jsx)("div",{className:"mx-5 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),(0,t.jsxs)("div",{className:"px-5 py-3 flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-[8px] font-black text-white/20 uppercase tracking-[0.2em]",children:"Bio"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-xs font-black text-white/60",children:[x,(0,t.jsx)("span",{className:"text-[8px] text-white/20 ml-0.5",children:"yrs"})]}),(0,t.jsx)("span",{className:"text-white/10",children:"Â·"}),(0,t.jsxs)("span",{className:"text-xs font-black text-white/60",children:[o,(0,t.jsx)("span",{className:"text-[8px] text-white/20 ml-0.5",children:"cm"})]}),(0,t.jsx)("span",{className:"text-white/10",children:"Â·"}),(0,t.jsxs)("span",{className:"text-xs font-black text-white/60",children:[p,(0,t.jsx)("span",{className:"text-[8px] text-white/20 ml-0.5",children:"kg"})]})]})]}),(0,t.jsx)("div",{className:"mx-5 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),(0,t.jsx)("div",{className:"px-5 py-3",children:h?(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"material-icons text-xs text-brand-teal/50",children:"cloud_done"}),(0,t.jsx)("p",{className:"text-[10px] font-bold text-white/40 truncate",children:h.email})]}),(0,t.jsx)("button",{onClick:()=>(0,c.signOut)(),className:"text-[9px] font-black text-brand-coral/60 uppercase hover:text-brand-coral transition-colors",children:"Sign Out"})]}):_?(0,t.jsxs)(i.motion.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},onSubmit:T,className:"space-y-2 overflow-hidden",children:[(0,t.jsx)("input",{type:"email",value:g,onChange:e=>f(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white text-xs focus:outline-none focus:border-brand-teal/40 transition-colors",placeholder:"Email",required:!0}),(0,t.jsx)("input",{type:"password",value:j,onChange:e=>w(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white text-xs focus:outline-none focus:border-brand-teal/40 transition-colors",placeholder:"Password",required:!0}),k&&(0,t.jsx)("p",{className:"text-[8px] text-brand-coral font-bold",children:k}),(0,t.jsx)("button",{disabled:N,type:"submit",className:"w-full bg-brand-teal text-[#0a0a0a] font-black uppercase py-2.5 rounded-lg text-[10px] tracking-widest",children:N?"...":m?"Sign In":"Create Account"}),(0,t.jsx)("button",{type:"button",onClick:()=>u(!m),className:"w-full text-[8px] text-white/25 font-bold uppercase py-0.5",children:m?"Need account? Sign up":"Have account? Sign in"})]}):(0,t.jsxs)("button",{onClick:()=>S(!0),className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-white/[0.04] border border-white/[0.06] text-white/50 hover:text-white hover:bg-white/[0.06] transition-all active:scale-[0.98]",children:[(0,t.jsx)("span",{className:"material-icons text-sm text-brand-coral/60",children:"cloud_upload"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Save Progress"})]})})]})}function o(){let e,{xp:c,level:o,badges:p,unlockedBadgeIds:h,age:b,height:m,weight:u,logs:g,streak:f,user:j}=(0,a.useOnboardingStore)(),[w,N]=(0,n.useState)(null),[v,k]=(0,n.useState)(null),[y,_]=(0,n.useState)(null),[S,P]=(0,n.useState)([]),C=g.length,A=e=>e>=5e3?"Apex Predator":e>=3e3?"High Guardian":e>=2e3?"Elite Slayer":e>=1e3?"Pathfinder":e>=500?"Vanguard":"Novice";return(0,n.useEffect)(()=>{(async()=>{let{data:e,error:t}=await d.supabase.from("sugar_users").select("display_name, avatar, xp, streak, total_logs, badges_count, device_id").order("xp",{ascending:!1}).limit(10);if(t||!e)return;let a=localStorage.getItem("device_id");P([...e.filter(e=>e.device_id!==a).map(e=>({name:e.display_name||"Anonymous",xp:e.xp||0,logs:e.total_logs||0,streak:e.streak||0,badges:e.badges_count||0,isSelf:!1,avatar:e.avatar||"ðŸ‘¤",rankTitle:A(e.xp||0),topBadges:[]})),{name:j?.email?.split("@")[0]||"You",xp:c,logs:C,streak:f,badges:h.length,isSelf:!0,avatar:"ðŸ‘¤",rankTitle:A(c),topBadges:h.slice(0,5)}].sort((e,t)=>(t.xp||0)-(e.xp||0)).map((e,t)=>({...e,rank:t+1})))})()},[c,f,C,h,j]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{hideXPBar:!0}),(0,t.jsxs)("div",{className:"mt-8 space-y-6 pb-24",children:[(0,t.jsx)(x,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,t.jsx)("h3",{className:"text-white/80 font-black text-lg uppercase tracking-tight italic",children:"Global Elite"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-brand-teal/10 px-2 py-1 rounded-full border border-brand-teal/20",children:[(0,t.jsx)("span",{className:"material-icons text-[10px] text-brand-teal",children:"public"}),(0,t.jsx)("span",{className:"text-[8px] font-black text-brand-teal uppercase tracking-widest",children:"Live"})]})]}),(0,t.jsxs)(s.default,{className:"overflow-hidden border-white/5 bg-black/40",children:[(0,t.jsx)("div",{className:"max-h-[236px] overflow-y-auto p-2 space-y-1",children:S.filter(e=>!e.isSelf).map(e=>(0,t.jsxs)(i.motion.div,{whileTap:{scale:.98},onClick:()=>k(e),className:"flex items-center justify-between p-3 rounded-xl cursor-pointer hover:bg-white/5 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-6 text-center",children:(0,t.jsxs)("span",{className:`text-[10px] font-black ${1===e.rank?"text-brand-gold":2===e.rank?"text-white/60":3===e.rank?"text-brand-coral/60":"text-white/20"}`,children:["#",e.rank||"?"]})}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-sm border border-white/10",children:e.avatar}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-black uppercase tracking-tight text-white/70",children:e.name}),(0,t.jsx)("p",{className:"text-[9px] font-bold text-white/20 uppercase tracking-widest",children:e.rankTitle})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs font-black text-brand-teal tracking-tighter",children:e.xp?.toLocaleString()||"0"}),(0,t.jsx)("p",{className:"text-[8px] font-black text-white/20 uppercase tracking-widest",children:"XP"})]})]},e.name))}),(e=S.find(e=>e.isSelf))?(0,t.jsxs)("div",{className:"sticky bottom-0 border-t border-brand-teal/20 bg-brand-teal/[0.06] backdrop-blur-sm p-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"w-8 h-8 rounded-full bg-brand-teal/20 flex items-center justify-center text-sm border border-brand-teal/30 font-black text-brand-teal shadow-[0_0_15px_rgba(78,205,196,0.1)]",children:["#",e.rank||"?"]}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"ðŸ‘¤"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xs font-black uppercase tracking-tight text-white",children:[e.name,(0,t.jsx)("span",{className:"ml-2 text-[7px] bg-brand-teal text-[#0a0a0a] px-1.5 py-0.5 rounded font-black",children:"YOU"})]}),(0,t.jsx)("p",{className:"text-[9px] font-bold text-brand-teal/50 uppercase tracking-widest",children:e.rankTitle})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm font-black text-brand-teal tracking-tighter",children:e.xp?.toLocaleString()||"0"}),(0,t.jsx)("p",{className:"text-[7px] font-black text-white/20 uppercase tracking-widest",children:"Your XP"})]})]}):null]})]}),(0,t.jsx)(r.AnimatePresence,{children:v&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6",children:[(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>k(null),className:"absolute inset-0 bg-black/80 backdrop-blur-md"}),(0,t.jsx)(i.motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"w-full max-w-sm relative z-[210]",children:(0,t.jsxs)(s.default,{className:"p-8 flex flex-col items-center gap-6 border-brand-teal/30 shadow-[0_0_50px_rgba(78,205,196,0.2)] bg-[#1a1a1a]",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/5 flex items-center justify-center text-5xl border-2 border-brand-teal shadow-[0_0_30px_rgba(78,205,196,0.2)]",children:v.avatar}),(0,t.jsxs)("div",{className:"absolute -bottom-2 right-0 bg-brand-teal text-bg-base text-[10px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter",children:["Lvl ",Math.floor(v.xp/500)+1]})]}),(0,t.jsxs)("div",{className:"text-center space-y-1",children:[(0,t.jsx)("h3",{className:"text-2xl font-black text-white uppercase italic tracking-tight",children:v.name}),(0,t.jsx)("p",{className:"text-brand-teal text-[10px] font-black uppercase tracking-[0.2em]",children:v.rankTitle})]}),(0,t.jsxs)("div",{className:"w-full grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{className:"p-3 rounded-2xl bg-white/[0.03] border border-white/5 text-center",children:[(0,t.jsx)("p",{className:"text-lg font-black text-white",children:v.logs}),(0,t.jsx)("p",{className:"text-[8px] font-black text-white/30 uppercase",children:"Logs"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-2xl bg-white/[0.03] border border-white/5 text-center",children:[(0,t.jsxs)("p",{className:"text-lg font-black text-brand-coral",children:[v.streak,"d"]}),(0,t.jsx)("p",{className:"text-[8px] font-black text-white/30 uppercase",children:"Streak"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-2xl bg-white/[0.03] border border-white/5 text-center",children:[(0,t.jsx)("p",{className:"text-lg font-black text-brand-teal",children:v.badges}),(0,t.jsx)("p",{className:"text-[8px] font-black text-white/30 uppercase",children:"Badges"})]})]}),(0,t.jsxs)("div",{className:"w-full space-y-3",children:[(0,t.jsx)("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em] text-center",children:"Top Achievements"}),(0,t.jsx)("div",{className:"flex justify-center gap-3",children:v.topBadges.length>0?v.topBadges.map(e=>{let s=a.ALL_BADGES.find(t=>t.id===e);return s?(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(i.motion.div,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),_(y===e?null:e)},className:`w-10 h-10 rounded-xl flex items-center justify-center cursor-pointer transition-all ${y===e?"bg-brand-teal text-bg-base shadow-[0_0_15px_rgba(78,205,196,0.4)]":"bg-white/5 text-white/60 hover:text-brand-teal hover:bg-white/10"}`,children:(0,t.jsx)("span",{className:"material-icons text-xl",children:s.icon})}),(0,t.jsx)(r.AnimatePresence,{children:y===e&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 w-40 p-3 rounded-xl bg-brand-teal text-[#1a1a1a] z-[220] shadow-2xl pointer-events-none",children:[(0,t.jsx)("p",{className:"text-[9px] font-black uppercase tracking-tighter mb-1 border-b border-black/10 pb-1",children:s.name}),(0,t.jsx)("p",{className:"text-[8px] font-bold leading-tight opacity-80",children:s.criteria}),(0,t.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-8 border-transparent border-t-brand-teal"})]})})]},e):null}):(0,t.jsx)("p",{className:"text-[10px] text-white/20 italic",children:"No achievements yet"})})]}),(0,t.jsxs)("div",{className:"w-full p-4 rounded-2xl bg-brand-teal/5 border border-brand-teal/10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("p",{className:"text-[10px] font-black text-white/40 uppercase",children:"Metabolic Power"}),(0,t.jsxs)("p",{className:"text-[10px] font-black text-brand-teal uppercase",children:[v.xp.toLocaleString()," XP"]})]}),(0,t.jsx)("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-brand-teal shadow-[0_0_10px_rgba(78,205,196,0.5)]",style:{width:`${v.xp%500/500*100}%`}})})]}),(0,t.jsx)("button",{onClick:()=>k(null),className:"w-full py-4 rounded-xl bg-brand-teal text-bg-base font-black uppercase tracking-widest active:scale-95 transition-transform",children:"Close Profile"})]})})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white/80 font-black text-lg mb-4 px-2 uppercase tracking-tight italic",children:"Achievement Vault"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:p.map(e=>{let a=h.includes(e.id);return(0,t.jsx)(i.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N(e),className:"relative cursor-pointer",children:(0,t.jsxs)(s.default,{className:`p-3 flex flex-col items-center gap-1.5 aspect-square justify-center border-white/5 transition-all duration-500 ${a?"bg-gradient-to-br from-brand-teal/20 to-brand-teal/5 border-brand-teal/30 shadow-[0_0_20px_rgba(78,205,196,0.1)]":"bg-black/40 grayscale opacity-30 shadow-inner"}`,children:[(0,t.jsx)("span",{className:`material-icons text-2xl ${a?"text-brand-teal":"text-white/40"}`,children:e.icon}),!a&&(0,t.jsx)("div",{className:"absolute top-1 right-1",children:(0,t.jsx)("span",{className:"material-icons text-[10px] text-white/20",children:"lock"})}),(0,t.jsx)("p",{className:"text-[7px] font-black text-center leading-tight uppercase tracking-tighter text-white/60",children:e.name})]})},e.id)})})]}),(0,t.jsx)(r.AnimatePresence,{children:w&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6",children:[(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>N(null),className:"absolute inset-0 bg-black/80 backdrop-blur-md"}),(0,t.jsx)(i.motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"w-full max-w-sm relative z-[210]",children:(0,t.jsxs)(s.default,{className:"p-8 flex flex-col items-center gap-6 border-brand-teal/30 shadow-[0_0_50px_rgba(78,205,196,0.2)] bg-[#1a1a1a]",children:[(0,t.jsx)("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-4xl mb-2 ${h.includes(w.id)?"bg-brand-teal/20 text-brand-teal shadow-[0_0_30px_rgba(78,205,196,0.2)]":"bg-white/5 text-white/20"}`,children:(0,t.jsx)("span",{className:"material-icons text-5xl",children:h.includes(w.id)?w.icon:"lock"})}),(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h3",{className:"text-2xl font-black text-white uppercase italic tracking-tight",children:w.name}),(0,t.jsx)("div",{className:"inline-flex items-center gap-2 bg-brand-teal/10 px-3 py-1 rounded-full border border-brand-teal/20",children:(0,t.jsxs)("span",{className:"text-[10px] font-black text-brand-teal uppercase tracking-[0.2em]",children:["+",w.bonusXP," XP REWARD"]})})]}),(0,t.jsxs)("div",{className:"w-full space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 rounded-2xl bg-white/[0.03] border border-white/5",children:[(0,t.jsx)("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-widest mb-1.5 text-center",children:"How to Obtain"}),(0,t.jsx)("p",{className:"text-sm text-white/80 text-center font-bold",children:w.criteria})]}),(0,t.jsx)("p",{className:"text-xs text-white/40 text-center leading-relaxed italic px-4",children:w.description})]}),(0,t.jsx)("button",{onClick:()=>N(null),className:"w-full py-4 rounded-xl bg-brand-teal text-[#1a1a1a] font-black uppercase tracking-widest active:scale-95 transition-transform",children:"Got it"})]})})]})})]})]})}e.s(["default",()=>o])}]);